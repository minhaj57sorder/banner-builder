import{r as y,j as m,w as M,k as I,P as K,O as X,A as g,T as ie,m as ve,t as me,a as $,c as z,d as b,e as f,S as h,Y as he,W as ye,u as B,i as Se,V as L,a7 as Z}from"./index.afb43f1a.js";import{u as be,v as ee,a as _e,b as Ce,d as Te,r as te,s as we,c as le,p as ne,e as ke}from"./position-engine.fd816bc2.js";import{u as qe,j as pe,a as Be,k as Pe,b as xe,l as Oe,c as Ne,m as Qe,g as je,Q as Ee}from"./QDialog.ffda083d.js";import{c as W,h as Y,b as Ae,r as De,s as Ve,Q}from"./QBtn.55afd777.js";import{Q as ae}from"./QCard.b23d8625.js";import{a as He,Q as $e,S as R}from"./dataStore.83654aa0.js";import"./axios.92639072.js";var ze=W({name:"QTooltip",inheritAttrs:!1,props:{...be,...qe,...pe,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:ee},self:{type:String,default:"top middle",validator:ee},offset:{type:Array,default:()=>[14,14],validator:_e},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...Be],setup(e,{slots:s,emit:u,attrs:r}){let v,n;const a=ve(),{proxy:{$q:l}}=a,o=y(null),c=y(!1),_=m(()=>ne(e.anchor,l.lang.rtl)),j=m(()=>ne(e.self,l.lang.rtl)),E=m(()=>e.persistent!==!0),{registerTick:A,removeTick:D}=Pe(),{registerTimeout:C}=xe(),{transitionProps:q,transitionStyle:P}=Oe(e),{localScrollTarget:x,changeScrollEvent:O,unconfigureScrollTarget:V}=Ce(e,G),{anchorEl:d,canShow:N,anchorEvents:T}=Te({showing:c,configureAnchorEl:de}),{show:t,hide:S}=Ne({showing:c,canShow:N,handleShow:re,handleHide:se,hideOnRouteChange:E,processOnMount:!0});Object.assign(T,{delayShow:ue,delayHide:ce});const{showPortal:w,hidePortal:F,renderPortal:oe}=Qe(a,o,ge,"tooltip");if(l.platform.is.mobile===!0){const i={anchorEl:d,innerRef:o,onClickOutside(k){return S(k),k.target.classList.contains("q-dialog__backdrop")&&me(k),!0}},H=m(()=>e.modelValue===null&&e.persistent!==!0&&c.value===!0);M(H,k=>{(k===!0?ke:te)(i)}),I(()=>{te(i)})}function re(i){w(),A(()=>{n=new MutationObserver(()=>p()),n.observe(o.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),p(),G()}),v===void 0&&(v=M(()=>l.screen.width+"|"+l.screen.height+"|"+e.self+"|"+e.anchor+"|"+l.lang.rtl,p)),C(()=>{w(!0),u("show",i)},e.transitionDuration)}function se(i){D(),F(),U(),C(()=>{F(!0),u("hide",i)},e.transitionDuration)}function U(){n!==void 0&&(n.disconnect(),n=void 0),v!==void 0&&(v(),v=void 0),V(),K(T,"tooltipTemp")}function p(){const i=o.value;d.value===null||!i||we({el:i,offset:e.offset,anchorEl:d.value,anchorOrigin:_.value,selfOrigin:j.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ue(i){if(l.platform.is.mobile===!0){le(),document.body.classList.add("non-selectable");const H=d.value,k=["touchmove","touchcancel","touchend","click"].map(J=>[H,J,"delayHide","passiveCapture"]);X(T,"tooltipTemp",k)}C(()=>{t(i)},e.delay)}function ce(i){l.platform.is.mobile===!0&&(K(T,"tooltipTemp"),le(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),C(()=>{S(i)},e.hideDelay)}function de(){if(e.noParentEvent===!0||d.value===null)return;const i=l.platform.is.mobile===!0?[[d.value,"touchstart","delayShow","passive"]]:[[d.value,"mouseenter","delayShow","passive"],[d.value,"mouseleave","delayHide","passive"]];X(T,"anchor",i)}function G(){if(d.value!==null||e.scrollTarget!==void 0){x.value=je(d.value,e.scrollTarget);const i=e.noParentEvent===!0?p:S;O(x.value,i)}}function fe(){return c.value===!0?g("div",{...r,ref:o,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",r.class],style:[r.style,P.value],role:"tooltip"},Y(s.default)):null}function ge(){return g(ie,q.value,fe)}return I(U),Object.assign(a.proxy,{updatePosition:p}),oe}});const Le={ratio:[String,Number]};function Re(e,s){return m(()=>{const u=Number(e.ratio||(s!==void 0?s.value:void 0));return isNaN(u)!==!0&&u>0?{paddingBottom:`${100/u}%`}:null})}const Me=16/9;var Ie=W({name:"QImg",props:{...Le,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Me},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:s,emit:u}){const r=y(e.initialRatio),v=Re(e,r);let n=null,a=!1;const l=[y(null),y(q())],o=y(0),c=y(!1),_=y(!1),j=m(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),E=m(()=>({width:e.width,height:e.height})),A=m(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),D=m(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));M(()=>C(),P);function C(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function q(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function P(t){n!==null&&(clearTimeout(n),n=null),_.value=!1,t===null?(c.value=!1,l[o.value^1].value=q()):c.value=!0,l[o.value].value=t}function x({target:t}){a!==!0&&(n!==null&&(clearTimeout(n),n=null),r.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,O(t,1))}function O(t,S){a===!0||S===1e3||(t.complete===!0?V(t):n=setTimeout(()=>{n=null,O(t,S+1)},50))}function V(t){a!==!0&&(o.value=o.value^1,l[o.value].value=null,c.value=!1,_.value=!1,u("load",t.currentSrc||t.src))}function d(t){n!==null&&(clearTimeout(n),n=null),c.value=!1,_.value=!0,l[o.value].value=null,l[o.value^1].value=q(),u("error",t)}function N(t){const S=l[t].value,w={key:"img_"+t,class:A.value,style:D.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...S};return o.value===t?(w.class+=" q-img__image--waiting",Object.assign(w,{onLoad:x,onError:d})):w.class+=" q-img__image--loaded",g("div",{class:"q-img__container absolute-full",key:"img"+t},g("img",w))}function T(){return c.value!==!0?g("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},Y(s[_.value===!0?"error":"default"])):g("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},s.loading!==void 0?s.loading():e.noSpinner===!0?void 0:[g(Ae,{color:e.spinnerColor,size:e.spinnerSize})])}return P(C()),I(()=>{a=!0,n!==null&&(clearTimeout(n),n=null)}),()=>{const t=[];return v.value!==null&&t.push(g("div",{key:"filler",style:v.value})),_.value!==!0&&(l[0].value!==null&&t.push(N(0)),l[1].value!==null&&t.push(N(1))),t.push(g(ie,{name:"q-transition--fade"},T)),g("div",{class:j.value,style:E.value,role:"img","aria-label":e.alt},t)}}}),We=W({name:"QCardActions",props:{...De,vertical:Boolean},setup(e,{slots:s}){const u=Ve(e),r=m(()=>`q-card__actions ${u.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>g("div",{class:r.value},Y(s.default))}});const Ye={class:"q-pa-md"},Fe={class:"q-mb-md"},Ue={class:"row q-col-gutter-md"},Ge={class:"absolute-bottom"},Je={class:"text-subtitle2"},Ke={class:"text-subtitle2"},Xe={class:"row q-col-gutter-md"},Ze={class:"col-12"},et={class:"col-12"},st={__name:"projectList",setup(e){const s=y(!1),u=Se(),r=He();r.getBanner();const v=n=>{R.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(a=>{a.isConfirmed&&(r.deleteBanner(n)?R.fire("Deleted!","Your file has been deleted.","success"):R.fire("Can not delete","Your file has not been deleted.","warning"))})};return(n,a)=>($(),z("div",Ye,[b("div",Fe,[f(Q,{label:"Banner",icon:"add",onClick:a[0]||(a[0]=l=>s.value=!0),outline:"",color:"primary"},{default:h(()=>[f(ze,null,{default:h(()=>[L("Create new banner project.")]),_:1})]),_:1})]),b("div",Ue,[($(!0),z(he,null,ye(B(r).bannerList,(l,o)=>($(),z("div",{class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 col-12",key:o},[f(ae,null,{default:h(()=>[f(Ie,{src:"https://cdn.quasar.dev/img/parallax2.jpg"},{default:h(()=>[b("div",Ge,[b("div",Je,Z(l.bannerName),1),b("div",Ke,Z(l._id),1)])]),_:2},1024),f(We,null,{default:h(()=>[f(Q,{flat:"",onClick:c=>B(u).push("edit/"+l._id)},{default:h(()=>[L("Edit")]),_:2},1032,["onClick"]),f(Q,{flat:"",onClick:c=>v(l._id)},{default:h(()=>[L("Delete")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]))),128))]),f(Ee,{modelValue:s.value,"onUpdate:modelValue":a[2]||(a[2]=l=>s.value=l)},{default:h(()=>[f(ae,{class:"q-pa-md",style:{width:"300px"}},{default:h(()=>[b("div",Xe,[b("div",Ze,[f($e,{modelValue:B(r).bannerName,"onUpdate:modelValue":a[1]||(a[1]=l=>B(r).bannerName=l),label:"Banner Project Name",outlined:"",dense:""},null,8,["modelValue"])]),b("div",et,[f(Q,{onClick:B(r).createBanner,class:"full-width",label:"Create",outline:"",color:"primary"},null,8,["onClick"])])])]),_:1})]),_:1},8,["modelValue"])]))}};export{st as default};
